# Q1 : gestion fichiers
## a. 
* aller dans dossier travail (syntaxe la plus courte possible).
	`cd`
* Créer en une seule command un fichier portant le nom data.txt
	`touch data.txt`
* Créer sub-dossier backup, y créer hard+sym link vers data.txt
```
	mkdir backup && cd backup
	ln ../data.txt hlink && ln ../data.txt slink
```
* expliquer comment vérifier si cést un lien dur
	avec la commande `ls -li` on peut voir les différences:
	1. le _lien symbolique_ est indiqué avec un `l`
	2. le _lien symbolique_ est représenté comme `lien_sym -> fichier_cible`
	3. le _lien symbolique_ a une taille différente de sa cible
	4. le _lien symbolique_ a un numéro d'inode différent (en effet le lien 
	symbolique est un fichier en soi => son propre inode).
	5. le _lien dur_ possède le même inode. 
	6. le _lien dur_ a le même nombre de liens que la cible (la cible et le lien 
	sont tous les deux des liens vers le même inode)
* Commande pour changer groupe propriétaire du fichier en Admin
	`chown :Admin data.txt`
* Afficher les 50 dernières lignes de syslog
	`tail -n 50 /var/log/messages`
	`dmesg | tail -n 50`
	ou
	`tail -n 50 /var/log/syslog`
* Exécuter la commande permettant d'afficher en temps réel la charge du serveur
	`top`

## b. décrire les différentes infos et chacune des lettres :
```
558 -rw-r--r-- 2 willy users  0 2007-01-09 20:22 MonFichier
558 -rw-r--r-- 2 willy users  0 2007-01-09 20:22 MonFichier2
572 lrwxrwxrwx 1 willy users 10 2007-01-09 20:21 MonFichier3 -> MonFichier
575 -r-xr-xr-- 1 willy users  0 2007-01-09 20:27 MonFichier4
583 -rwSr--r-- 1 willy users  0 2007-01-09 21:35 MonFichier5
584 -rw-r-Sr-- 1 willy users  0 2007-01-09 21:35 MonFichier6
585 -rw-r--r-T 1 willy users  0 2007-01-09 21:35 MonFichier6
569 drwxr-xr-x 2 willy users 48 2007-01-09 20:18 Test
[inode] [permissions] [#liens durs/fichiers] [owner] [groupowner] [taille] [date modification] [nom fichier]
```
	r - droit de lecture
	w - droit d'écriture
	x - droit d'exécuter
	S (sur user) - Setuid
	S (sur group) - setgid
	T (other) - sticky
	l - lien symC:/Users/Touko/AppData/Local/Temp/Temp1_examens linux.zip/2.2.jpg
	d - dossier

* donner 3 façons pour : autres = aucuns droits, autres droits inchangés
	`chmod o-rwx MonFichier`
	`chmod o= MonFichier`
	`chmod 640 MonFichier`

* Expliquer droits par défaut & comment peut-on modificer ces droits de façons automatique.
	`umask` => 0022

## c. Vous souhaitez que le partition sdb1 soit montée sur /data 
`echo "/dev/sdb1 	/data 	ext4 	defaults 	0 2" >> /etc/fstab`

## d. Samba : quel package ? Comment créer l'utilisateur Admin ?
`apt-get udpate && apt-get install -y samba`
`smbpasswd -a Admin`

## e. Quel fichier de config vous devez modifiez pour samba ?
`/etc/samba/smb.conf`

# Q2 : Gestion des processus
## a. Expliquer différences gestion des daemons
Systemd c'est de la merde.
Y a aussi que le kernel démarre le premier process "init" (sauf avec systemd qui est 
démarré avant le bootloader) qui est chargé de lancer tous les scripts de 
démarrages des autres services. Avec systemV l'ordre de démarrage est déterminé par un chiffre dans le nom du fichier et par le dossier où il se trouve. Là où avec 
systemd on a un système de dépendances (permet de démarrer plusieurs services en
parrallèlles).

## b. Soit le script bash suivant placé dans le fichier traitement.sh
```bash
i=0
while true
do
	i=`expr $i + 1`
	echo "Valeur: $i"
	sleep 10
done
```

* Comment rendre .exeable ? .exer en tâche de fond.
	`chmod +x ./traitement.sh`
	`./traitement.sh &`

* lister processus qui sont ma propriété 
	`ps -u`

* A quoi sert PPID ?
	Chaque processus garde de sont processus parent (càd celui qui l'a exécuté)
	ainsi nous pouvons reformer l'arborressence et kill tous les process enfants
	lorsqu'on kill seulement le parent.

* En laissant le script en tâche de fond en forcer l'arrêt.
	`kill -9 <PID>`

* démarrer avec un niveau de privilège différent:
	1. on met le bit suid 
	2. `sudo` 
	Dans les deux cas, on peut pas changer le niveau de privilège en cours.